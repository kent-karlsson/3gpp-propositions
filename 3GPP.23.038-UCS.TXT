# 3GPP.23.038-UCS.TXT
# Date: 2025-12-21
# © 2025 Unicode®, Inc.
# For terms of use, see http://www.unicode.org/terms_of_use.html
#
#	Name:             3GPP 23.038 Unicode (ISO/IEC 10646) (UCS) to Unicode for SMS/CBS
#	Unicode version:  17.0.0
#	Table version:    1.0
#	Table format:     Format A
#	Date:             2025 December 21
#	Authors:          Kent Karlsson
#
#	General notes:
#
#	For source to SMS/CBS UCS2(BE) (UTF-16BE), first transform to NFC, then
#	apply the mapping below (plus mapping CR to LF, see below). Then map to
#	UTF-16BE (if not already in form), and apply CR fillers if needed.
#
#	For SMS/CBS UCS2(BE) to received text, after removing filler CRs, apply
#	the mapping below (should be a no-op, sender should already have done that).
#
#	This mapping is based on 3GPP TS 23.038 V18.0.0 (2022-09), "3rd Generation
#	Partnership Project; Technical Specification Group Core Network and
#	Terminals; Alphabets and language-specific information (Release 18)".
#	UCS2 in 23.038 should be interpreted as UTF-16BE, not limited to BMP.
#
#	This is a "Unicode to Unicode mapping", and most characters are not
#	listed explicitly, but instead rely on the @missing directives below,
#	mostly mapping a character to itself.
#
#	This table is intended for SMS and CBS protocols only, it is NOT
#	intended for any other context. Note that there must be no "byte 
#	order mark" (ZWNBSP, 0xFEFF), but the bytes for the text part of
#	the SMS/CBS message are in "network byte order" (big-endian).
#
#	Most C0/C1 characters are unexpected in SMS/CBS, except for LF and
#	CR (used as filler in SMS/CBS, see below) so we map most of them to
#	REPLACEMENT CHARACTER, LF or SP as appropriate, though CRs are
#	to be removed when used as filler on the SMS/CBS protocol side.
#
#	The submessages that constitute a message can each have different
#	character encodings (though they nominally should have the same
#	encoding). 1) Convert to UTF-16 (in processor endianness), 2) remove
#	filler CRs. Concatenate, or assembing into a list, in proper order,
#	the submessages. Note that there is an order number, just like
#	in TCP/IP, along with a total number, in the submessages according
#	to the SMS and CBS protocols, so the text content of the submessages
#	can be assembled in the proper order. (A message may be displayed
#	before all submessages are gathered, while indicating still missing
#	parts, to be filled in.)
#
#	0x000D is CR which is used as filler after the actual message text,
#	and in case of 2-letter (always in original default 7-bit encoding)
#	language code prefix (a language tagging method available only for
#	the CBS protocol), also between the language code and actual message.
#	These CR characters are to be inserted (when converting to an
#	SMS/CBS encoding, also the UTF-16BE encoding as used for SMS/CBS)
#	or removed (when converting from an SMS/CBS encoding). A CR 
#	occurring strictly INSIDE of a message (should not happen...)
#	should be converted to LF. This handling of CR is not reflected
#	in the table below, which just maps CR to CR.
#
#	Note that 0x0000 is mapped to REPL. CHAR. It is never used as filler.
#
#	This UCS mapping should be applied both 1) before sending an SMS
#	(or CBS message) (before mapping to 7-bit SMS/CMS coding, if that
#	is to be done), then when placing the text into the full protocol 
#	message insert CRs as filler if needed (during packing, 8-bit to
#	7-bit), and 2) after receiving an SMS (or CBS message), after
#	unpacking and converting to a UCS encoding, remove filler CRs,
#	but before display processing. Commonly, point 2) is a no-op.
#
#	The bidi algorithm is applied if and only if there are 'strong'
#	right-to-left chars in the message. The "paragraph level" parameter
#	is always "LTR" for SMS/CBS messages. The bidi algoritnm is applied
#	*after* submessage concatenation. LRM and RLM can be used to "fix"
#	bidi ordering issues for 'bidi neutral' symbols, like quote marks,
#	comma, full stop, ... in case of 'order change' around the symbol.
#	If the bidi algorithm is not applied, LRM and RLM are mapped to
#	REPLACEMENT CHARACTER.
#
#	Format:  Three tab-separated columns
#	 Column #1 is the Unicode scalar value as 0xXXXX or a
#                  range 0xXXXX..0xXXXX.
#	 Column #2 is the Unicode scalar value (in hex as 0xXXXX)
#	 Column #3 the Unicode name (follows a comment sign, '#')
#
#	References:
#
#	Alpha - 3GPP TS 23.038 V18.0.0 [TO UPDATE],
#		"Alphabets and language-specific information", 2022-09 [TO UPDATE].
#
#	SMS   - 3GPP TS 23.040 V18.0.0, 
#		"Technical realization of the Short Message Service (SMS)", 2024-03.
#
#	CBS   - 3GPP TS 23.041 V18.6.0, 
#		"Technical realization of Cell Broadcast Service (CBS)", 2024-09.
#
# @missing: 0x0000..0x10FFFF; <self> if supported
# @missing: 0x0000..0x10FFFF; 0xFFFD if not supported for SMS/CBS (not allocated, is Cf, is deprecated or is otherwise not implemented (e.g. no glygh in the font used for SMS/CBS))
#
0x0000	0xFFFD	#	mapped to repl. char (note that 0x0000 is not terminator/filler in the SMS/CBS protocols (text part), instead CR is used as filler)
0x0001..0x0008	0xFFFD	#	mapped to repl. char
0x0009	0x0020	#	CHARACTER TABULATION mapped to (one) SP (HT should not be used in SMS/CBS)
0x000A	0x000A	#	LINE FEED (interpret as ASCII CR,LF)
0x000B	0x000A	#	LINE TABULATION (mapped to LF; VT is often used as LS, but for SMS/CBS we map LS to LF)
0x000C	0x000C	#	FORM FEED (interpret as ASCII CR,FF if there is pagination; CR,LF if no pagination)
0x000D	0x000D	#	CARRIAGE RETURN (note that CR is used as filler (in the SMS/CBS protocols, text part) and those must be deleted before submessage concatenation; if strictly inside of submessage, map to LF); this handling is not reflected in this table
0x000E..0x001F	0xFFFD	#	ctrls: mapped to repl. char
0x007F	0xFFFD	#	ctrl: mapped to repl. char
0x0080..0x009A	0xFFFD	#	ctrls: mapped to repl. char
0x009B	0x009B	#	CONTROL SEQUENCE INTRODUCER (for selected CSIxxxm styling: bold, italic, (single) underline, a few colours)
0x009C..0x00A0	0xFFFD	#	ctrls, NBSP: mapped to repl. char
0x00AD	0x00AD	#	SOFT HYPHEN (this is a control character for hyphenation suggestion; if no hypehantion at this point, it should still have a non-spacing glyph in SMS, like a narrow vertical bar)
0x061C	0x200F	#	ARABIC LETTER MARK to RIGHT-TO-LEFT MARK (AL->R)
#0x1680	0x0020	#	OGHAM SPACE MARK (Zs) mapped to SP (repl. char?)
0x2000..0x200B	0xFFFD	#	spaces of fixed width: mapped to repl. char
0x200C	0x00B7	#	ZERO WIDTH NON-JOINER to MIDDLE DOT
0x200D	0x0640	#	ZERO WIDTH JOINER to ARABIC TATWEEL
### While zero-width, these should have visible glyphs; like a narrow bar with a ‘flag’ indicating direction.
0x200E	0x200E	#	LEFT-TO-RIGHT MARK	(to 'force' the desired directionality of a 'bidi neautral' like comma, full stop, quote mark, etc. in case of directionality change around it; 0xFFFD if no mix of spacing LTR and RTL chars in the line)
0x200F	0x200F	#	RIGHT-TO-LEFT MARK	(to 'force' the desired directionality of a 'bidi neautral' like comma, full stop, quote mark, etc. in case of directionality change around it; 0xFFFD if no mix of spacing LTR and RTL chars in the line)
### Bidi AL to be handled as bidi R, except arabic punctuation which is to be handled as bidi ON; 
### all bidi EN and AN to be handled as L; all bidi ET, ES, CS to be handled as bidi ON for SMS/CBS.
### 'Paragraph direction' is always LTR for SMS/CBS. There are no nestable bidi controls in SMS/CBS.
### Bidi mirroring applies, but only those that can be mirrored via BidiMirroring.txt; note: bidi mirroring does not apply to arrows or arrow-like,
### even though arrows most often refer to the adjacent text components, and not external directions; it is up to the author to mirror arrows.
0x2028..0x2029	0x000A	#	LINE SEPARATOR..PARAGRAPH SEPARATOR mapped to LF
0x202A..0x202B	0x005B 0xFFFD	#	LEFT-TO-RIGHT EMBEDDING..RIGHT-TO-LEFT EMBEDDING, bidi controls, not for SMS/CBS
0x202C	0xFFFD 0x005D	#	POP DIRECTIONAL FORMATTING, bidi control, not for SMS/CBS
0x202D..0x202E	0x005B 0xFFFD	#	LEFT-TO-RIGHT OVERRIDE..RIGHT-TO-LEFT OVERRIDE, bidi controls, not for SMS/CBS
####0x202F	0x202F	#	NARROW NO-BREAK SPACE (Zs)
0x205F	0xFFFD	#	MEDIUM MATHEMATICAL SPACE (Zs) mapped to repl. char
0x2060..0x2064	0xFFFD	#	(invisible operators are inappropriate in SMS/CBS) 
0x2066..0x2068	0x005B 0xFFFD	#	LEFT-TO-RIGHT ISOLATE..FIRST STRONG ISOLATE, bidi controls, not for SMS/CBS
0x2069	0xFFFD 0x005D	#	POP DIRECTIONAL ISOLATE, bidi control, not for SMS/CBS
0x206A..0x206F	0xFFFD	INHIBIT SYMMETRIC SWAPPING..NOMINAL DIGIT SHAPES, these should always be replaced by SUB/REPL.CHAR. regardless of context
0xD800..0xDFFF	0xFFFD	#	(inappropriately used 'surrogate', these are always errors)
0xE000..0xF8FF	0xFFFD	#	(private use characters are inappropriate in SMS/CBS)
0xFDD0..0xFDEF	0xFFFD	#	map <OBJECT REPLACEMENT> to REPLACEMENT CHARACTER
0xFEFF	0xFFFD	#	there must be no BOM in SMS/CBS
0xFFFC	0xFFFD	#	map OBJECT REPLACEMENT CHARACTER to REPLACEMENT CHARACTER
0xFFFE..0xFFFF	0xFFFD	#	map <OBJECT REPLACEMENT> to REPLACEMENT CHARACTER
0x1FFFE..0x1FFFF	0xFFFD	#	map <OBJECT REPLACEMENT> to REPLACEMENT CHARACTER
0x2FFFE..0x2FFFF	0xFFFD	#	map <OBJECT REPLACEMENT> to REPLACEMENT CHARACTER
0x3FFFE..0x3FFFF	0xFFFD	#	map <OBJECT REPLACEMENT> to REPLACEMENT CHARACTER
0x4FFFE..0x4FFFF	0xFFFD	#	map <OBJECT REPLACEMENT> to REPLACEMENT CHARACTER
0x5FFFE..0x5FFFF	0xFFFD	#	map <OBJECT REPLACEMENT> to REPLACEMENT CHARACTER
0x6FFFE..0x6FFFF	0xFFFD	#	map <OBJECT REPLACEMENT> to REPLACEMENT CHARACTER
0x7FFFE..0x7FFFF	0xFFFD	#	map <OBJECT REPLACEMENT> to REPLACEMENT CHARACTER
0x8FFFE..0x8FFFF	0xFFFD	#	map <OBJECT REPLACEMENT> to REPLACEMENT CHARACTER
0x9FFFE..0x9FFFF	0xFFFD	#	map <OBJECT REPLACEMENT> to REPLACEMENT CHARACTER
0xAFFFE..0xAFFFF	0xFFFD	#	map <OBJECT REPLACEMENT> to REPLACEMENT CHARACTER
0xBFFFE..0xBFFFF	0xFFFD	#	map <OBJECT REPLACEMENT> to REPLACEMENT CHARACTER
0xCFFFE..0xCFFFF	0xFFFD	#	map <OBJECT REPLACEMENT> to REPLACEMENT CHARACTER
0xDFFFE..0xDFFFF	0xFFFD	#	map <OBJECT REPLACEMENT> to REPLACEMENT CHARACTER
0xE0000..0xEFFFD	0xFFFD	#	("tag" and variation selectors (plus unassigned) all are inappropriate in SMS/CBS)
0xEFFFE..0xEFFFF	0xFFFD	#	map <OBJECT REPLACEMENT> to REPLACEMENT CHARACTER
0xF0000..0xFFFFD	0xFFFD	#	(private use characters are inappropriate in SMS/CBS)
0xFFFFE..0xFFFFF	0xFFFD	#	map <OBJECT REPLACEMENT> to REPLACEMENT CHARACTER
0x10000..0x10FFFD	0xFFFD	#	(private use characters are inappropriate in SMS/CBS)
0x10FFFE..0x10FFFF	0xFFFD	#	map <OBJECT REPLACEMENT> to REPLACEMENT CHARACTER
